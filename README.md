# üîë NickCipher

**NickCipher** is a secure, user-friendly command-line tool for encrypting and decrypting text using a **Homophonic Substitution Cipher** with dynamic emoji mapping. 

Unlike a simple substitution cipher where 'A' always becomes 'üçé', NickCipher maps each character to a pool of multiple emojis. This distribution is based on Swedish character frequency to flatten the statistical fingerprint of the ciphertext.

## üìä The Cryptographic Engine: Frequency & Weights

To counter **Frequency Analysis Attacks**, NickCipher allocates a specific number of emojis to each character based on its natural frequency in the Swedish language. Common characters receive more "aliases" (emojis) to mask their presence.

### Swedish Character Frequencies (Normalized)
* **High Frequency (6-8%):** A, E, T, N, R
* **Common (~4%):** S, I, Spaces, Punctuation (., !, ?, etc.)
* **Medium (2-3%):** D, L, O, M, G, K, H, V, √Ñ
* **Low (1-1.5%):** U, F, C, √Ö, P, √ñ, B
* **Rare (<1%):** J, Y, X, W, Z, Q

### Emoji Allocation (Weights)
The following weights are used during key generation. The "Space" character is given the highest weight to prevent word-length analysis.

| Character | Emoji Count | Character Group | Emoji Count |
| :--- | :--- | :--- | :--- |
| **" " (Space)** | **18** | **O, M, G** | **6** |
| **A, E** | **12** | **K, H, V** | **5** |
| **T, N** | **11** | **√Ñ, U, F, C, √Ö, P, √ñ, B** | **4** |
| **R** | **10** | **J, Y** | **3** |
| **S, I** | **8** | **X, W, Z, Q** | **2** |
| **., ,, !, ?** | **7** | | |
| **D, L** | **7** | | |

üõ† Instructions & Usage

1. Working with Files
NickCipher automates file management through a specific folder structure:

Input: Place the .txt files you want to encrypt in the data/input/ folder.

Output: Encrypted or decrypted results will be saved automatically to the data/output/ folder.

Selection: When choosing "Encrypt from file" in the menu, the program will list all available .txt files in the input directory for you to pick from.

2. Key Management (Export/Import)
You can choose between using a password or a physical key file:

Export Key: After generating a key with a password, select "Save/load encryption key" -> "Export". This saves your unique emoji-map as a .json file in data/keys/.

Import Key: To decrypt a file without remembering the password, select "Import". Pick your .json key from the list, and it will be loaded into the active session.

3. Quick Start Flow
Run the program.

Select Option 1 to encrypt a quick message using a password.

Select Option 5 to export that key as my_secret_key.json.

Restart the program, use Option 5 to import the key, and you can now decrypt messages without re-entering the password.üõ† 

## üîí Security Implementation

### Homophonic Substitution
By giving the space character **18 different emojis** and the letter 'A' **12 different emojis**, the statistical "spikes" in the encrypted data are flattened. An attacker looking for the most common symbol will not find a single character representing a space, but rather 18 different symbols, each appearing with low frequency.

### SHA-256 Key Generation
The encryption mapping is generated by hashing the user's password with **SHA-256**. The resulting hash is used as a seed for the random number generator, ensuring that the same password always generates the same deterministic emoji mapping while remaining impossible to brute-force.

### Path Traversal Protection
NickCipher validates all file paths using a strict security check before any file operation:
```python
# Prevents ../../ attacks
base_path.resolve() in target_path.resolve().parents



üöÄ Installation
Clone the repository:

HTTPS: https://github.com/nicklasthegerstrom-byte/NickCipher.git

SSH: git@github.com:nicklasthegerstrom-byte/NickCipher.git

Ensure you have Python 3.9+ installed.

Run the application:

Bash

python -m nickcipher.main